{"version":3,"file":"js/550.a49035b8.js","mappings":"uPACOA,MAAM,O,GACJA,MAAM,yC,GAKJA,MAAM,uB,UACTC,EAAAA,EAAAA,GAEM,OAFDD,MAAM,iBAAe,EACxBC,EAAAA,EAAAA,GAAgC,MAA5BD,MAAM,eAAc,SAAG,K,GAGxBA,MAAM,c,iwBAsBPC,EAAAA,EAAAA,GAES,UAFDC,KAAK,SAASF,MAAM,oC,EAC1BC,EAAAA,EAAAA,GAAoC,KAAjCD,MAAM,0BAAsB,QAAK,UACtC,K,GAFAG,G,sEAjCVC,EAAAA,EAAAA,IAwCM,MAxCNC,EAwCM,EAvCJJ,EAAAA,EAAAA,GAsCM,MAtCNK,EAsCM,EAnCRC,EAAAA,EAAAA,IAA0DC,EAAA,CAAhDC,KAAWC,EAAAC,QAAUT,KAAMQ,EAAAE,QAAUC,IAAKH,EAAAG,K,+BAEhDZ,EAAAA,EAAAA,GAgCM,MAhCNa,EAgCM,CA/BJC,GAIAd,EAAAA,EAAAA,GA0BM,MA1BNe,EA0BM,CAzBJC,GAiBAhB,EAAAA,EAAAA,GAEM,OAFDD,MAAM,YAAYkB,MAAM,cAAeC,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAAC,YAAAD,EAAAC,cAAAF,K,EACjDpB,EAAAA,EAAAA,GAAuD,OAAlDD,MAAM,kBAAkBwB,UAAQd,EAAAe,Y,aAEvCxB,EAAAA,EAAAA,GAIO,QAJAkB,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAAI,UAAAJ,EAAAI,YAAAL,K,WCjCT,WAASM,EAAM,EAAGC,EAAU,wCACzC,IAAIC,EAAM,GACNC,EAAU,GAEd,IACEA,EAAU,IAAIC,MAAMJ,IAAMK,KAAI,IAAMJ,EAAQK,KAAKC,MAAMD,KAAKE,SAAWP,EAAQQ,UACjF,CAAE,MAAOC,GAAI,CAQb,OANAP,EAAQQ,SAAQC,IACdV,GAAQ,+BAA8BU,UAAa,IAGrDT,EAAUA,EAAQU,KAAK,IAEhB,CACLX,MACAC,UAEJ,C,WD8BA,GACEW,KAAM,WACNC,IAAAA,GACE,MAAO,CACLjB,WAAY,GACZkB,SAAU,GACVC,SAAU,GACVC,UAAW,GACXf,QAAS,GAETjB,IAAK,GACLD,QAAS,GACTD,SAAS,EAETE,IAAK,GACLD,QAAS,GACTD,SAAS,EAEb,EACAmC,OAAAA,GACEC,KAAKxB,YACP,EACAyB,QAAS,CACPzB,UAAAA,GACE,MAAM,IAAEM,EAAG,QAAEC,GAAYmB,EAAc,GAEvCF,KAAKtB,WAAaI,EAClBkB,KAAKG,aAAepB,CACtB,EACAJ,QAAAA,CAASW,GACPc,YAAW,KACwB,WAAlBd,EAAEe,OAAOlD,KAAoBmC,EAAEe,OAASf,EAAEe,OAAOC,cAG9DN,KAAKO,QACP,GAEJ,EACAA,MAAAA,GAIS,CACL,MAAMC,EAAO,CACXd,KAAMM,KAAKJ,SACXC,SAAUG,KAAKH,SAEfY,OAAQ,uGAGQT,KAAKU,OAAOC,MAAMH,KAQhCR,KAAKY,MAAMJ,EAKjB,CACF,EACAI,KAAAA,CAAMJ,GAEJR,KAAKU,OAAOG,SAAS,QAASL,GAI9BR,KAAKc,SAASpD,KAAK,OAAO,OAE5B,EAGAqD,OAAAA,CAAQjD,EAAKX,EAAO,WAClB6C,KAAKlC,IAAMA,EACXkC,KAAKnC,QAAUV,EACf6C,KAAKpC,SAAU,EAEfoC,KAAKgB,WAAU,KACbhB,KAAKpC,SAAU,CAAG,IAEpBoC,KAAKe,QAAQ,OAAO,UACtB,I,UE9HJ,MAAME,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://vuejs-essential/./src/views/auth/Register.vue","webpack://vuejs-essential/./src/utils/createCaptcha.js","webpack://vuejs-essential/./src/views/auth/Register.vue?d778"],"sourcesContent":["<template>\n  <div class=\"row\">\n    <div class=\"col-md-4 col-md-offset-4 floating-box\">\n<!-- //消息组件 -->\n       <!-- 消息组件 -->\n  <Message :show.sync=\"msgShow\" :type=\"msgType\" :msg=\"msg\"/>\n\n      <div class=\"panel panel-default\">\n        <div class=\"panel-heading\">\n          <h3 class=\"panel-title\">请注册</h3>\n        </div>\n\n        <div class=\"panel-body\">\n          <div class=\"form-group\">\n            <label class=\"control-label\">用户名</label>\n            <input type=\"text\" class=\"form-control\" placeholder=\"请填写用户名\">\n          </div>\n          <div class=\"form-group\">\n            <label class=\"control-label\">密码</label>\n            <input type=\"password\" class=\"form-control\" placeholder=\"请填写密码\">\n          </div>\n          <div class=\"form-group\">\n            <label class=\"control-label\">确认密码</label>\n            <input type=\"password\" class=\"form-control\" placeholder=\"请填写确认密码\">\n          </div>\n          <div class=\"form-group\">\n            <label class=\"control-label\">图片验证码</label>\n            <input type=\"text\" class=\"form-control\" placeholder=\"请填写验证码\">\n          </div>\n          <!-- 为 -->\n          <div class=\"thumbnail\" title=\"点击图片重新获取验证码\" @click=\"getCaptcha\">\n            <div class=\"captcha vcenter\" v-html=\"captchaTpl\"></div>\n          </div>\n          <span @click=\"register\">\n            <button type=\"submit\" class=\"btn btn-lg btn-success btn-block\">\n              <i class=\"fa fa-btn fa-sign-in\"></i> 注册\n            </button>\n          </span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport createCaptcha from '@/utils/createCaptcha'\nimport ls from '@/utils/localStorage'\n\nexport default {\n  name: 'Register',\n  data() {\n    return {\n      captchaTpl: '', // 验证码模板\n      username: '', // 用户名\n      password: '', // 密码\n      cpassword: '', // 确认密码\n      captcha: '',// 验证码\n//消息组件\n      msg: '', // 消息\n      msgType: '', // 消息类型\n      msgShow: false ,// 是否显示消息，默认不显示\n      //消息组件\n      msg: '', // 消息\n      msgType: '', // 消息类型\n      msgShow: false // 是否显示消息，默认不显示\n    }\n  },\n  created() {\n    this.getCaptcha()\n  },\n  methods: {\n    getCaptcha() {\n      const { tpl, captcha } = createCaptcha(6)\n\n      this.captchaTpl = tpl\n      this.localCaptcha = captcha\n    },\n    register(e) {\n      setTimeout(() => {\n        const target = e.target.type === 'submit' ? e.target : e.target.parentElement\n\n        if (true || target.canSubmit) {\n          this.submit()\n        }\n      })\n    },\n    submit() {\n      if (false && this.captcha.toUpperCase() !== this.localCaptcha) {\n        alert('验证码不正确')\n        this.getCaptcha()\n      } else {\n        const user = {\n          name: this.username,\n          password: this.password,\n          // avatar: `https://api.adorable.io/avatars/200/${this.username}.png`\n          avatar: 'https://dgss0.bdstatic.com/5bVWsj_p_tVS5dKfpU_Y_D3/qiusuo_icon/10597f220b047cee3e8ea50e91886d71.ico'\n        }\n        // 为 => 从仓库获取用户信息\n        const localUser = this.$store.state.user\n\n        if (localUser) {\n          if (false && localUser.name === user.name) {\n            // // alert('用户名已存在')\nthis.showMsg('用户名已存在','false')\n            this.showMsg('用户名已存在','false')\n          } else {\n            this.login(user)\n          }\n        } else {\n          this.login(user)\n        }\n      }\n    },\n    login(user) {\n      // 为 => 分发 login 事件，以保存用户信息和登录\n      this.$store.dispatch('login', user)\n\n\n      // // alert('注册成功')\n      this.$message.show('注册成功','succ')\n      // this.showMsg('注册成功','success')\n    },\n\n    //消息方法\n    showMsg(msg, type = 'warning') {\n      this.msg = msg\n      this.msgType = type\n      this.msgShow = false\n\n      this.$nextTick(() => {\n        this.msgShow = true\n      })\n      this.showMsg('注册成功','success')\n    },\n\n  }\n}\n</script>\n<style scoped>\n.thumbnail {\n  width: 170px;\n  margin-top: 10px;\n  cursor: pointer;\n}\n\n.thumbnail .captcha {\n  height: 46px;\n  background: #E1E6E8;\n}\n\n.captcha {\n  font-size: 24px;\n  font-weight: bold;\n  user-select: none;\n}\n</style>\n","export default function(num = 6, letters = 'QWERTYUIOPLKJHGFDSAZXCVBNM1234567890') {\n  let tpl = ''\n  let captcha = []\n\n  try {\n    captcha = [...Array(num)].map(() => letters[Math.floor(Math.random() * letters.length)])\n  } catch (e) {}\n\n  captcha.forEach(item => {\n    tpl += `<span class=\"flex1 hcenter\">${item}</span>`\n  })\n\n  captcha = captcha.join('')\n\n  return {\n    tpl,\n    captcha\n  }\n}\n","import { render } from \"./Register.vue?vue&type=template&id=79051d3a&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=79051d3a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-79051d3a\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","type","_hoisted_11","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_Message","show","$data","msgShow","msgType","msg","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","title","onClick","_cache","args","$options","getCaptcha","innerHTML","captchaTpl","register","num","letters","tpl","captcha","Array","map","Math","floor","random","length","e","forEach","item","join","name","data","username","password","cpassword","created","this","methods","createCaptcha","localCaptcha","setTimeout","target","parentElement","submit","user","avatar","$store","state","login","dispatch","$message","showMsg","$nextTick","__exports__","render"],"sourceRoot":""}