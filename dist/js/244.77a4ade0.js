"use strict";(self["webpackChunkvuejs_essential"]=self["webpackChunkvuejs_essential"]||[]).push([[244],{5244:function(e,t,a){a.r(t),a.d(t,{default:function(){return U}});var l=a(6252),s=a(3577);const i={class:"col-md-9 topics-index main-col"},n={class:"panel panel-default"},r={class:"panel-heading"},o={class:"list-inline topic-filter"},c=(0,l._)("div",{class:"clearfix"},null,-1),u={class:"panel-body remove-padding-horizontal"},d={class:"list-group row topic-list"},g={class:"count_set"},h={class:"count_of_votes",title:"投票数"},p=(0,l._)("span",{class:"count_seperator"},"/",-1),m={class:"count_of_replies",title:"回复数"},f=(0,l._)("span",{class:"count_seperator"},"|",-1),v={class:"timeago"},_=["src"],w={class:"media-heading"};function k(e,t,a,k,b,C){const y=(0,l.up)("router-link"),S=(0,l.up)("el-pagination"),z=(0,l.up)("TheSidebar");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",i,[(0,l._)("div",n,[(0,l._)("div",r,[(0,l._)("ul",o,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(b.filters,(e=>((0,l.wg)(),(0,l.iD)("li",null,[(0,l.Wm)(y,{title:e.title,class:(0,s.C_)({active:b.filter===e.filter}),to:`/topics?filter=${e.filter}`},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.name),1)])),_:2},1032,["title","class","to"])])))),256))]),c]),(0,l._)("div",u,[(0,l._)("ul",d,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(b.articles,(e=>((0,l.wg)(),(0,l.iD)("li",{key:e.articleId,class:"list-group-item"},[(0,l.Wm)(y,{to:`/articles/${e.articleId}/content`,tag:"div",class:"reply_count_area hidden-xs pull-right"},{default:(0,l.w5)((()=>[(0,l._)("div",g,[(0,l._)("span",h,(0,s.zw)(e.likeUsers?e.likeUsers.length:0),1),p,(0,l._)("span",m,(0,s.zw)(e.comments?e.comments.length:0),1),f,(0,l._)("abbr",v,(0,s.zw)(e.date),1)])])),_:2},1032,["to"]),(0,l.Wm)(y,{to:`/${e.uname}`,tag:"div",class:"avatar pull-left"},{default:(0,l.w5)((()=>[(0,l._)("img",{src:e.uavatar,class:"media-object img-thumbnail avatar avatar-middle"},null,8,_)])),_:2},1032,["to"]),(0,l.Wm)(y,{to:`/articles/${e.articleId}/content`,tag:"div",class:"infos"},{default:(0,l.w5)((()=>[(0,l._)("div",w,(0,s.zw)(e.title),1)])),_:2},1032,["to"])])))),128))])]),(0,l.Wm)(S,{background:"",layout:"prev, pager, next",total:b.total,"page-size":b.pageSize,currentPage:b.currentPage,"onUpdate:currentPage":t[0]||(t[0]=e=>b.currentPage=e),onCurrentChange:C.handleCurrentChange,"hide-on-single-page":!0},null,8,["total","page-size","currentPage","onCurrentChange"])])]),(0,l.Wm)(z)],64)}var b=a(2262),C=a(3907);const y=e=>((0,l.dD)("data-v-7f39687d"),e=e(),(0,l.Cn)(),e),S={class:"col-md-3 side-bar"},z={class:"panel panel-default corner-radius sidebar-resources"},D=y((()=>(0,l._)("div",{class:"panel-heading text-center"},[(0,l._)("h3",{class:"panel-title"},"实战课程")],-1))),M={class:"panel-body"},x=["href"],P=["alt","title","src"];function W(e,t,a,s,i,n){const r=(0,l.up)("Slider");return(0,l.wg)(),(0,l.iD)("div",S,[(0,l._)("div",z,[D,(0,l._)("div",M,[(0,l.Wm)(r,{slides:i.slides},{currentSlides:(0,l.w5)((({currentSlide:e})=>[(0,l._)("a",{href:e.link,target:"_blank"},[(0,l._)("img",{alt:e.title,title:e.title,src:e.img},null,8,P)],8,x)])),_:1},8,["slides"])])])])}var $={name:"Sidebar",data(){return{slides:[{title:"《Laravel 入门教程 - 从零到部署上线》",img:"https://cdn.learnku.com/uploads/banners/YpxKKNlSPdmwotO3u8An.jpg",link:"https://learnku.com/laravel/t/3383/laravel-the-first-chinese-new-book-laravel-tutorial"},{title:"《Laravel 进阶课程 - 从零构建论坛系统》",img:"https://cdn.learnku.com/uploads/banners/iNanVVOXdnYQ6jRfMdWE.png",link:"https://learnku.com/laravel/t/6592"},{title:"《Laravel 教程实战高级 - 构架 API 服务器》",img:"https://cdn.learnku.com/uploads/banners/tEd4GxhMp6VMh9e0hrUH.jpg",link:"https://learnku.com/laravel/t/7657"}]}}},H=a(3744);const j=(0,H.Z)($,[["render",W],["__scopeId","data-v-7f39687d"]]);var B=j,F={name:"Home",components:{TheSidebar:B},data(){return{msg:"",msgType:"",msgShow:!1,articles:[],filter:"default",filters:[{filter:"default",name:"活跃",title:"最后回复排序"},{filter:"excellent",name:"精华",title:"只看加精的话题"},{filter:"vote",name:"投票",title:"点赞数排序"},{filter:"recent",name:"最近",title:"发布时间排序"},{filter:"noreply",name:"零回复",title:"无人问津的话题"}],total:0,pageSize:5,currentPage:1,tableData:[]}},beforeRouteEnter(e,t,a){const l=t.name,s=e.params.logout;a((t=>{if(t.$store.state.auth)switch(l){case"Register":t.showMsg("注册成功");break;case"Login":t.showMsg("登录成功");break}else s&&t.showMsg("操作成功");t.setDataByFilter(e.query.filter)}))},computed:{...(0,C.rn)(["auth","user"])},watch:{auth(e){e||this.showMsg("操作成功")},$route(e){this.setDataByFilter(e.query.filter)},handleCurrentChange(e,t){console.log("watch handleChange:"+e),this.handleCurrentChange(e,t)}},methods:{showMsg(e,t="success"){this.msg=e,this.msgType=t,this.msgShow=!0},setDataByFilter(e="default",t=1){this.filter=e;const a=this.pageSize,l=this.$store.getters.getArticlesByFilter(e);this.total=l.length,console.log(t),this.articles=l.slice(a*(t-1),a*t)},handleCurrentChange(e=1,t="default"){this.filter=t;(0,b.iH)(0);const a=(0,b.iH)(5),l=this.$store.getters.getArticlesByFilter(t);console.log(l.slice(a.value*(e-1),a.value*e)),console.log(e),this.total=l.length,this.articles=l.slice(a.value*(e-1),a.value*e)}},onMounted(){this.handleCurrentChange(),console.log(this.handleCurrentChange)},created(){}};const I=(0,H.Z)(F,[["render",k]]);var U=I}}]);
//# sourceMappingURL=244.77a4ade0.js.map