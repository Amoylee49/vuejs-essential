{"version":3,"file":"js/244.27715d75.js","mappings":"2MAIOA,MAAM,kC,GACJA,MAAM,uB,GACJA,MAAM,iB,GAELA,MAAM,4B,GAMVC,EAAAA,EAAAA,GAA4B,OAAvBD,MAAM,YAAU,S,GAGlBA,MAAM,wC,GACLA,MAAM,6B,GAICA,MAAM,a,GACHA,MAAM,iBAAiBE,MAAM,O,GACnCD,EAAAA,EAAAA,GAAsC,QAAhCD,MAAM,mBAAkB,KAAC,G,GACzBA,MAAM,mBAAmBE,MAAM,O,GACrCD,EAAAA,EAAAA,GAAsC,QAAhCD,MAAM,mBAAkB,KAAC,G,GACzBA,MAAM,W,aAOTA,MAAM,iB,mJA9BvBC,EAAAA,EAAAA,GA8CQ,MA9CRE,EA8CQ,EA7CNF,EAAAA,EAAAA,GA4CQ,MA5CRG,EA4CQ,EA3CNH,EAAAA,EAAAA,GASM,MATNI,EASM,EAPJJ,EAAAA,EAAAA,GAKK,KALLK,EAKK,gBAJHC,EAAAA,EAAAA,IAGKC,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAHcC,EAAAC,SAARC,K,WAAXL,EAAAA,EAAAA,IAGK,YAFHM,EAAAA,EAAAA,IACqEC,EAAA,CADjDZ,MAAOU,EAAKV,MAAcF,OAAKe,EAAAA,EAAAA,IAAA,CAAAC,OAAYN,EAAAO,SAAWL,EAAKK,SAC5EC,GAAE,kBAAoBN,EAAKK,U,mBAAU,IAAe,mBAAZL,EAAKO,MAAI,M,+CAGxDC,KAGFnB,EAAAA,EAAAA,GAuBM,MAvBNoB,EAuBM,EAtBJpB,EAAAA,EAAAA,GAqBK,KArBLqB,EAqBK,gBApBHf,EAAAA,EAAAA,IAmBKC,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAnBiBC,EAAAa,UAAXC,K,WAAXjB,EAAAA,EAAAA,IAmBK,MAnB4BkB,IAAKD,EAAQE,UAAW1B,MAAM,mB,EAC7Da,EAAAA,EAAAA,IAScC,EAAA,CATAI,GAAE,aAAeM,EAAQE,oBAAqBC,IAAI,MAC9D3B,MAAM,yC,mBACN,IAMM,EANNC,EAAAA,EAAAA,GAMM,MANN2B,EAMM,EALJ3B,EAAAA,EAAAA,GAAsG,OAAtG4B,GAAsGC,EAAAA,EAAAA,IAA1DN,EAAQO,UAAYP,EAAQO,UAAUC,OAAS,GAAH,GACxFC,GACAhC,EAAAA,EAAAA,GAAsG,OAAtGiC,GAAsGJ,EAAAA,EAAAA,IAAxDN,EAAQW,SAAWX,EAAQW,SAASH,OAAS,GAAH,GACxFI,GACAnC,EAAAA,EAAAA,GAA+C,OAA/CoC,GAA+CP,EAAAA,EAAAA,IAAtBN,EAAQc,MAAI,Q,mBAGzCzB,EAAAA,EAAAA,IAEcC,EAAA,CAFAI,GAAE,IAAMM,EAAQe,QAASZ,IAAI,MAAM3B,MAAM,oB,mBACrD,IAAoF,EAApFC,EAAAA,EAAAA,GAAoF,OAA9EuC,IAAKhB,EAAQiB,QAASzC,MAAM,mD,gCAEpCa,EAAAA,EAAAA,IAIcC,EAAA,CAJAI,GAAE,aAAeM,EAAQE,oBAAqBC,IAAI,MAAM3B,MAAM,S,mBAC1E,IAEM,EAFNC,EAAAA,EAAAA,GAEM,MAFNyC,GAEMZ,EAAAA,EAAAA,IADDN,EAAQtB,OAAK,M,kCAS1BW,EAAAA,EAAAA,IACwG8B,EAAA,CADzFC,WAAA,GAAWC,OAAO,oBAAqBC,MAAOpC,EAAAoC,MAAQ,YAAWpC,EAAAqC,SACtEC,YAAatC,EAAAsC,Y,sCAAAtC,EAAAsC,YAAWC,GAAGC,gBAAgBC,EAAAC,oBAAsB,uBAAqB,G,mEAO1FvC,EAAAA,EAAAA,IAAawC,IAAA,G,wFClDlBrD,MAAM,qB,GACJA,MAAM,uD,UACTC,EAAAA,EAAAA,GAEM,OAFDD,MAAM,6BAA2B,EACpCC,EAAAA,EAAAA,GAAiC,MAA7BD,MAAM,eAAc,UAAI,K,GAEzBA,MAAM,c,wGALfO,EAAAA,EAAAA,IAmBM,MAnBNJ,EAmBM,EAlBJF,EAAAA,EAAAA,GAgBM,MAhBNG,EAgBM,CAfJC,GAGAJ,EAAAA,EAAAA,GAWM,MAXNK,EAWM,EATJO,EAAAA,EAAAA,IAOSyC,EAAA,CAPAC,OAAQ7C,EAAA6C,QAAM,CACJC,eAAaC,EAAAA,EAAAA,KAC5B,EAD+BC,kBAAY,EAC3CzD,EAAAA,EAAAA,GAGI,KAHA0D,KAAMD,EAAaE,KAAMC,OAAO,U,EAElC5D,EAAAA,EAAAA,GAAmF,OAA7E6D,IAAKJ,EAAaxD,MAAQA,MAAOwD,EAAaxD,MAAQsC,IAAKkB,EAAaK,K,4CAa5F,OACE5C,KAAM,UACN6C,IAAAA,GACE,MAAO,CAELT,OAAQ,CACN,CACErD,MAAO,2BACP6D,IAAK,mEACLH,KAAM,0FAER,CACE1D,MAAO,4BACP6D,IAAK,mEACLH,KAAM,sCAER,CACE1D,MAAO,gCACP6D,IAAK,mEACLH,KAAM,uCAId,G,UC1CF,MAAMK,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,QFqDA,GAEE9C,KAAM,OACN+C,WAAW,CAETC,WAAUA,GAEZH,IAAAA,GACE,MAAO,CACLI,IAAK,GACLC,QAAS,GACTC,SAAS,EACT/C,SAAU,GACVN,OAAQ,UACRN,QAAS,CACP,CAAEM,OAAQ,UAAWE,KAAM,KAAMjB,MAAO,UACxC,CAAEe,OAAQ,YAAaE,KAAM,KAAMjB,MAAO,WAC1C,CAAEe,OAAQ,OAAQE,KAAM,KAAMjB,MAAO,SACrC,CAAEe,OAAQ,SAAUE,KAAM,KAAMjB,MAAO,UACvC,CAAEe,OAAQ,UAAWE,KAAM,MAAOjB,MAAO,YAE3C4C,MAAO,EACPC,SAAU,EACVC,YAAa,EACbuB,UAAW,GAGf,EACAC,gBAAAA,CAAiBtD,EAAIuD,EAAMC,GAEzB,MAAMC,EAAWF,EAAKtD,KAChByD,EAAS1D,EAAG2D,OAAOD,OAEzBF,GAAKI,IACH,GAAIA,EAAGC,OAAOC,MAAMC,KAClB,OAAQN,GACN,IAAK,WACHG,EAAGI,QAAQ,QACX,MACF,IAAK,QACHJ,EAAGI,QAAQ,QACX,WAEKN,GACTE,EAAGI,QAAQ,QAIbJ,EAAGK,gBAAgBjE,EAAGkE,MAAMnE,OAAO,GAGvC,EACAoE,SAAU,KACLC,EAAAA,EAAAA,IAAS,CACV,OACA,UASJC,MAAO,CACLN,IAAAA,CAAKO,GACEA,GACHC,KAAKP,QAAQ,OAEjB,EAEA,OAAShE,GACPuE,KAAKN,gBAAgBjE,EAAGkE,MAAMnE,OAGhC,EACAmC,mBAAAA,CAAoBJ,EAAa/B,GAC/ByE,QAAQC,IAAI,sBAAwB3C,GACpCyC,KAAKrC,oBAAoBJ,EAAa/B,EACxC,GAEF2E,QAAS,CAEPV,OAAAA,CAAQd,EAAKyB,EAAO,WAClBJ,KAAKrB,IAAMA,EACXqB,KAAKpB,QAAUwB,EACfJ,KAAKnB,SAAU,CACjB,EAEAa,eAAAA,CAAgBlE,EAAS,UAAW+B,EAAc,GAEhDyC,KAAKxE,OAASA,EAMd,MAAM8B,EAAW0C,KAAK1C,SAIhB+C,EAAcL,KAAKV,OAAOgB,QAAQC,oBAAoB/E,GAG5DwE,KAAK3C,MAAQgD,EAAY9D,OACzB0D,QAAQC,IAAI3C,GAEZyC,KAAKlE,SAAWuE,EAAYG,MAAMlD,GAAYC,EAAc,GAAID,EAAWC,EAE7E,EACAI,mBAAAA,CAAoBJ,EAAc,EAAG/B,EAAS,WAE5CwE,KAAKxE,OAASA,GAEAiF,EAAAA,EAAAA,IAAI,GAAlB,MACMnD,GAAWmD,EAAAA,EAAAA,IAAI,GAIfJ,EAAcL,KAAKV,OAAOgB,QAAQC,oBAAoB/E,GAC5DyE,QAAQC,IAAIG,EAAYG,MAAMlD,EAASyC,OAASxC,EAAc,GAAID,EAASyC,MAAQxC,IACnF0C,QAAQC,IAAI3C,GAEZyC,KAAK3C,MAAQgD,EAAY9D,OAEzByD,KAAKlE,SAAWuE,EAAYG,MAAMlD,EAASyC,OAASxC,EAAc,GAAID,EAASyC,MAAQxC,EAUzF,GAEFmD,SAAAA,GACEV,KAAKrC,sBACLsC,QAAQC,IAAIF,KAAKrC,oBACnB,EACAgD,OAAAA,GAYE,GGlNJ,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://vuejs-essential/./src/views/Home.vue","webpack://vuejs-essential/./src/components/layouts/TheSidebar.vue","webpack://vuejs-essential/./src/components/layouts/TheSidebar.vue?07bf","webpack://vuejs-essential/./src/views/Home.vue?9051"],"sourcesContent":["<template  lang=\"\">\n  <!-- <Message :show.sync=\"msgShow\" :type=\"msgType\" :msg=\"msg\" /> -->\n\n  <!-- 帖子列表 -->\n  <div class=\"col-md-9 topics-index main-col\">\n    <div class=\"panel panel-default\">\n      <div class=\"panel-heading\">\n        <!-- 为 -->\n        <ul class=\"list-inline topic-filter\">\n          <li v-for=\"item in filters\">\n            <router-link v-bind:title=\"item.title\" v-bind:class=\"{ active: filter === item.filter }\"\n              :to=\"`/topics?filter=${item.filter}`\">{{ item.name }}</router-link>\n          </li>\n        </ul>\n        <div class=\"clearfix\"></div>\n      </div>\n\n      <div class=\"panel-body remove-padding-horizontal\">\n        <ul class=\"list-group row topic-list\">\n          <li v-for=\"article in articles\" :key=\"article.articleId\" class=\"list-group-item\">\n            <router-link :to=\"`/articles/${article.articleId}/content`\" tag=\"div\"\n              class=\"reply_count_area hidden-xs pull-right\">\n              <div class=\"count_set\">\n                <span class=\"count_of_votes\" title=\"投票数\">{{ article.likeUsers ? article.likeUsers.length : 0 }}</span>\n                <span class=\"count_seperator\">/</span>\n                <span class=\"count_of_replies\" title=\"回复数\">{{ article.comments ? article.comments.length : 0 }}</span>\n                <span class=\"count_seperator\">|</span>\n                <abbr class=\"timeago\">{{ article.date }}</abbr>\n              </div>\n            </router-link>\n            <router-link :to=\"`/${article.uname}`\" tag=\"div\" class=\"avatar pull-left\">\n              <img :src=\"article.uavatar\" class=\"media-object img-thumbnail avatar avatar-middle\">\n            </router-link>\n            <router-link :to=\"`/articles/${article.articleId}/content`\" tag=\"div\" class=\"infos\">\n              <div class=\"media-heading\">\n                {{ article.title }}\n              </div>\n            </router-link>\n          </li>\n        </ul>\n      </div>\n      <!-- 分页 样式映入的element-plus里面的分页样式\n total总页数  page-size每页条数  currentPage当前页  handleCurrentChange触发函数   :hide-on-single-page=\"true\"只有一条数据时不显示分页\n -->\n      <el-pagination background layout=\"prev, pager, next\" :total=\"total\" :page-size=\"pageSize\"\n        v-model:currentPage=\"currentPage\" @current-change=\"handleCurrentChange\" :hide-on-single-page=\"true\" />\n\n\n\n      </div>\n    </div>\n    <!-- 侧栏 -->\n            <TheSidebar/>\n</template>\n\n<script>\nimport { ref, onMounted } from \"vue\"\n\nimport { mapState } from 'vuex'\n// 引入 TheSidebar.vue 的默认值\nimport TheSidebar from '@/components/layouts/TheSidebar.vue'\n\nexport default {\n\n  name: 'Home',\n  components:{\n    // 局部注册 TheSidebar\n    TheSidebar,\n  },\n  data() {\n    return {\n      msg: '',\n      msgType: '',\n      msgShow: false,\n      articles: [], // 文章列表\n      filter: 'default', // 默认过滤方式\n      filters: [ // 过滤方式列表\n        { filter: 'default', name: '活跃', title: '最后回复排序' },\n        { filter: 'excellent', name: '精华', title: '只看加精的话题' },\n        { filter: 'vote', name: '投票', title: '点赞数排序' },\n        { filter: 'recent', name: '最近', title: '发布时间排序' },\n        { filter: 'noreply', name: '零回复', title: '无人问津的话题' }\n      ],\n      total: 0, // 文章总数\n      pageSize: 5, // 每页条数\n      currentPage: 1,\n      tableData: [],\n\n    }\n  },\n  beforeRouteEnter(to, from, next) {\n\n    const fromName = from.name\n    const logout = to.params.logout\n\n    next(vm => {\n      if (vm.$store.state.auth) {\n        switch (fromName) {\n          case 'Register':\n            vm.showMsg('注册成功')\n            break\n          case 'Login':\n            vm.showMsg('登录成功')\n            break\n        }\n      } else if (logout) {\n        vm.showMsg('操作成功')\n      }\n\n      // 确认渲染该组件的对应路由时，设置相关数据\n      vm.setDataByFilter(to.query.filter)\n      // console.log(to.query.filter)\n    })\n  },\n  computed: {\n    ...mapState([\n      'auth',\n      'user',\n      // 'articles'\n\n    ]),\n    // 这里删除了原来的 articles\n    // articles() {\n    //   return this.$store.getters.computedArticles\n    // },\n  },\n  watch: {\n    auth(value) {\n      if (!value) {\n        this.showMsg('操作成功')\n      }\n    },\n    // 监听 '$route'，在查询参数变化后，设置相关数据\n    '$route'(to) {\n      this.setDataByFilter(to.query.filter)\n\n      // console.log(to.query.filter)\n    },\n    handleCurrentChange(currentPage, filter) {\n      console.log(\"watch handleChange:\" + currentPage)\n      this.handleCurrentChange(currentPage, filter)\n    }\n  },\n  methods: {\n\n    showMsg(msg, type = 'success') {\n      this.msg = msg\n      this.msgType = type\n      this.msgShow = true\n    },\n    // 设置相关数据\n    setDataByFilter(filter = 'default', currentPage = 1) {\n      // 设置当前过滤方式为查询参数的 filter\n      this.filter = filter\n      // console.log(this.filter)\n      // 设置文章列表为过滤后的所有文章\n      // this.articles = this.$store.getters.getArticlesByFilter(filter)\n\n      // 每页条数\n      const pageSize = this.pageSize\n      // // 当前页\n      // const currentPage = currentPage\n      // 过滤后的所有文章\n      const allArticles = this.$store.getters.getArticlesByFilter(filter)\n\n      // 文章总数\n      this.total = allArticles.length\n      console.log(currentPage)\n      // 当前页的文章\n      this.articles = allArticles.slice(pageSize * (currentPage - 1), pageSize * currentPage)\n\n    },\n    handleCurrentChange(currentPage = 1, filter = 'default') {\n      // 设置当前过滤方式为查询参数的 filter\n      this.filter = filter\n      //定义变量    分页 total总数  currentPage当前第几页  pageSize每页条数\n      const total = ref(0);\n      const pageSize = ref(5);\n      // const currentPage = ref(1);\n      // const tableData = ref([]);\n      // 过滤后的所有文章\n      const allArticles = this.$store.getters.getArticlesByFilter(filter)\n      console.log(allArticles.slice(pageSize.value * (currentPage - 1), pageSize.value * currentPage))\n      console.log(currentPage)\n      // 文章总数\n      this.total = allArticles.length\n      // 当前页的文章\n      this.articles = allArticles.slice(pageSize.value * (currentPage - 1), pageSize.value * currentPage)\n      // return {\n      //   pageSize: pageSize.value,\n      //   // pageIndex: currentPage.value,\n      //   currentPage: currentPage,\n\n      //   total: allArticles.length,\n      //   tableData: allArticles.slice(pageSize.value * (currentPage - 1), pageSize.value * currentPage),\n\n      // }\n    }\n  },\n  onMounted() {\n    this.handleCurrentChange();\n    console.log(this.handleCurrentChange)\n  },\n  created() {\n\n    // 设置相关数据\n    // console.log(this.$store.getters.getArticlesByFilter('default'));\n    //定义变量    分页 total总数  currentPage当前第几页  pageSize每页条数\n    // this.total = ref(0);\n    // this.pageSize = ref(4);\n    // this.currentPage = ref(1);\n    // this.tableData = ref([1, 2, 3, 4, 5, 6]);\n\n\n    // console.log(this.articles)\n    // console.log(this.$store.getters)\n  }\n}\n\n\n</script>\n\n<style></style>\n\n","\n<template>\n  <div class=\"col-md-3 side-bar\">\n    <div class=\"panel panel-default corner-radius sidebar-resources\">\n      <div class=\"panel-heading text-center\">\n        <h3 class=\"panel-title\">实战课程</h3>\n      </div>\n      <div class=\"panel-body\">\n\n        <Slider :slides=\"slides\">\n          <template v-slot:currentSlides=\"{currentSlide}\">\n            <a :href=\"currentSlide.link\" target=\"_blank\">\n              <!-- {{ currentSlide }} -->\n              <img :alt=\"currentSlide.title\" :title=\"currentSlide.title\" :src=\"currentSlide.img\">\n            </a>\n          </template>\n        </Slider>\n\n      </div>\n    </div>\n\n  </div>\n</template>\n\n\n<script>\nexport default {\n  name: 'Sidebar',\n  data() {\n    return {\n      // 实战课程\n      slides: [\n        {\n          title: '《Laravel 入门教程 - 从零到部署上线》',\n          img: 'https://cdn.learnku.com/uploads/banners/YpxKKNlSPdmwotO3u8An.jpg',\n          link: 'https://learnku.com/laravel/t/3383/laravel-the-first-chinese-new-book-laravel-tutorial'\n        },\n        {\n          title: '《Laravel 进阶课程 - 从零构建论坛系统》',\n          img: 'https://cdn.learnku.com/uploads/banners/iNanVVOXdnYQ6jRfMdWE.png',\n          link: 'https://learnku.com/laravel/t/6592'\n        },\n        {\n          title: '《Laravel 教程实战高级 - 构架 API 服务器》',\n          img: 'https://cdn.learnku.com/uploads/banners/tEd4GxhMp6VMh9e0hrUH.jpg',\n          link: 'https://learnku.com/laravel/t/7657'\n        }\n      ]\n    }\n  }\n}\n</script>\n\n<style scoped>\n.carousel-inner img {\n  display: block;\n  margin: auto;\n  line-height: 1;\n  width: 70%;\n  border: 1px solid #ddd;\n  box-shadow: 0 0 10px #ccc;\n  -moz-box-shadow: 0 0 10px #ccc;\n  -webkit-box-shadow: 0 0 10px #ccc;\n}</style>\n","import { render } from \"./TheSidebar.vue?vue&type=template&id=7f39687d&scoped=true\"\nimport script from \"./TheSidebar.vue?vue&type=script&lang=js\"\nexport * from \"./TheSidebar.vue?vue&type=script&lang=js\"\n\nimport \"./TheSidebar.vue?vue&type=style&index=0&id=7f39687d&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7f39687d\"]])\n\nexport default __exports__","import { render } from \"./Home.vue?vue&type=template&id=f9111736&lang=true\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","title","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_createElementBlock","_Fragment","_renderList","$data","filters","item","_createVNode","_component_router_link","_normalizeClass","active","filter","to","name","_hoisted_5","_hoisted_6","_hoisted_7","articles","article","key","articleId","tag","_hoisted_8","_hoisted_9","_toDisplayString","likeUsers","length","_hoisted_10","_hoisted_11","comments","_hoisted_12","_hoisted_13","date","uname","src","uavatar","_hoisted_15","_component_el_pagination","background","layout","total","pageSize","currentPage","$event","onCurrentChange","$options","handleCurrentChange","_component_TheSidebar","_component_Slider","slides","currentSlides","_withCtx","currentSlide","href","link","target","alt","img","data","__exports__","components","TheSidebar","msg","msgType","msgShow","tableData","beforeRouteEnter","from","next","fromName","logout","params","vm","$store","state","auth","showMsg","setDataByFilter","query","computed","mapState","watch","value","this","console","log","methods","type","allArticles","getters","getArticlesByFilter","slice","ref","onMounted","created","render"],"sourceRoot":""}