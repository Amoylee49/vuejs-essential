{"version":3,"file":"js/885.81fe3f90.js","mappings":"2MACOA,MAAM,qB,GACJA,MAAM,kC,GACJA,MAAM,c,GACTC,EAAAA,EAAAA,GAAgD,YAA5CA,EAAAA,EAAAA,GAA+B,KAA5BD,MAAM,qBAAiB,QAAK,cAAQ,G,GAI3CC,EAAAA,EAAAA,GAAI,mB,GAEC,0B,GACED,MAAM,c,GACTC,EAAAA,EAAAA,GAAoB,aAAb,SAAK,G,mBAMTD,MAAM,kB,GACJA,MAAM,Y,GAKRA,MAAM,c,GACJA,MAAM,Y,8FAxBrBE,EAAAA,EAAAA,IA+BM,MA/BNC,EA+BM,EA9BJF,EAAAA,EAAAA,GA6BM,MA7BNG,EA6BM,EA5BJH,EAAAA,EAAAA,GA2BM,MA3BNI,EA2BM,CA1BJC,GAERC,EAAAA,EAAAA,IAAqEC,EAAA,CAA3DC,KAAYC,EAAAC,QAAUC,IAAKF,EAAAE,IAAMC,KAAMH,EAAAI,S,8BAEzCC,GAEAd,EAAAA,EAAAA,GAmBM,MAnBNe,EAmBM,EAlBJf,EAAAA,EAAAA,GAMM,MANNgB,EAMM,CALJC,GACAjB,EAAAA,EAAAA,GAEM,aADJA,EAAAA,EAAAA,GAA+D,OAAnDkB,IAAKT,EAAAU,OAAQpB,MAAM,qBAAsBqB,IAAKX,EAAAW,K,eAI9DpB,EAAAA,EAAAA,GAIM,MAJNqB,EAIM,EAHJrB,EAAAA,EAAAA,GAEM,MAFNsB,EAEM,WADJtB,EAAAA,EAAAA,GAAyH,S,qCAA/FS,EAAAU,OAAMI,GAA2CX,KAAK,OAAOb,MAAM,6B,iBAAnEU,EAAAU,YAAM,G,MAAzB,E,MAAA,I,GAAiD,CAAAK,MAAA,aAAiB,G,UAAvC,WAItCxB,EAAAA,EAAAA,GAIM,MAJNyB,EAIM,EAHJzB,EAAAA,EAAAA,GAEM,MAFN0B,EAEM,EADJ1B,EAAAA,EAAAA,GAAwF,UAAhFY,KAAK,SAASb,MAAM,yBAA0B4B,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAAC,cAAAD,EAAAC,gBAAAF,KAAc,mB,CAWzF,OACEG,KAAM,aACNC,IAAAA,GACE,MAAO,CACLd,OAAQ,MACRC,IAAK,GAELT,IAAK,GACLE,QAAQ,GACRH,SAAS,EAEb,EAEAwB,OAAAA,GAEE,MAAMC,EAAOC,KAAKC,OAAOC,MAAMH,KAC/BC,KAAKjB,OAASgB,EAAKhB,OACnBoB,QAAQC,IAAIL,GACZI,QAAQC,IAAIL,EAAKhB,QAMjBiB,KAAKhB,IAAMe,EAAKM,GAElB,EACAC,QAAQ,CACNX,YAAAA,GACE,MAAMZ,EAASiB,KAAKjB,OACpB,GAAIA,EAAQ,CACV,IAAIwB,EAAM,IAAIC,MACdD,EAAIE,OAAS,KAEXT,KAAKC,OAAOS,SAAS,aAAa,CAAC3B,WAEnCiB,KAAKW,SAASvC,KAAK,OAAO,UAAU,EAGtCmC,EAAIK,QAAU,KACZZ,KAAKW,SAASvC,KAAK,QAAQ,QAAQ,EAIrCmC,EAAIzB,IAAMC,CACZ,CAEF,EAEAX,IAAAA,CAAKG,EAAIC,EAAO,WACZwB,KAAKzB,IAAMA,EACXyB,KAAKvB,QAAUD,EACfwB,KAAK1B,SAAU,EAEf0B,KAAKa,WAAU,KACfb,KAAK1B,SAAU,CAAG,GAEtB,I,UCzFJ,MAAMwC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://vuejs-essential/./src/views/users/Avatar.vue","webpack://vuejs-essential/./src/views/users/Avatar.vue?d9a5"],"sourcesContent":["<template>\n  <div class=\"col-md-9 left-col\">\n    <div class=\"panel panel-default padding-md\">\n      <div class=\"panel-body\">\n        <h2><i class=\"fa fa-picture-o\"></i> 请输入头像地址</h2>\n        <!-- //消息组件 -->\n<Message :show.sync =\"msgShow\" :msg=\"msg\" :type=\"msgType\"> </Message>\n<!-- <Message :show.sync=\"msgShow\" :type=\"msgType\" :msg=\"msg\"/> -->\n        <hr>\n\n        <div data-validator-form>\n          <div class=\"form-group\">\n            <label>头像预览：</label>\n            <div>\n              <img v-bind:src=\"avatar\" class=\"avatar-preview-img\" :alt=\"alt\">\n            </div>\n\n          </div>\n          <div class=\"form-group row\">\n            <div class=\"col-md-8\">\n              <input v-model.trim.lazy=\"avatar\" v-validator.required=\"{ title: '头像地址' }\" type=\"text\" class=\"form-control avatar-input\">\n            </div>\n          </div>\n\n          <div class=\"form-group\">\n            <div class=\"col-md-8\">\n              <button type=\"submit\" class=\"btn btn-lg btn-primary\" @click=\"updateAvatar\">上传头像</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'EditAvatar',\n  data() {\n    return {\n      avatar: 'sdf' ,//头像地址,\n      alt: '',\n\n      msg: '',\n      msgType:'',\n      msgShow: false // 是否显示消息，默认不显示\n    }\n  },\n  //初始方法，在类外面\n  created(){\n    // 获取仓库 的用户信息\n    const user = this.$store.state.user\n    this.avatar = user.avatar\n    console.log(user)\n    console.log(user.avatar)\n\n\n    // if (user && typeof user === 'object') {\n      // 将仓库的用户头像赋值给当前头像地址\n    // }\n    this.alt = user.sex\n\n  },\n  methods:{\n    updateAvatar(){\n      const avatar = this.avatar\n      if (avatar) {\n        let img = new Image()\n        img.onload = () => {\n\n          this.$store.dispatch('updateUser',{avatar})\n          // this.$message.show('上传成功呢')\n          this.$message.show('上传成功','success')\n        }\n\n        img.onerror = () => {\n          this.$message.show('上传失败呢','error')\n            // this.$message = show('上传失败', 'error')\n        }\n\n        img.src = avatar\n      }\n\n    },\n    //消息方法\n    show(msg,type = 'warning'){\n        this.msg = msg\n        this.msgType = type\n        this.msgShow = false\n\n        this.$nextTick(() => {\n        this.msgShow = true\n      })\n    }\n  }\n}\n\n</script>\n\n\n","import { render } from \"./Avatar.vue?vue&type=template&id=0d42a50a\"\nimport script from \"./Avatar.vue?vue&type=script&lang=js\"\nexport * from \"./Avatar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_createVNode","_component_Message","show","$data","msgShow","msg","type","msgType","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","src","avatar","alt","_hoisted_10","_hoisted_11","$event","title","_hoisted_12","_hoisted_13","onClick","_cache","args","$options","updateAvatar","name","data","created","user","this","$store","state","console","log","sex","methods","img","Image","onload","dispatch","$message","onerror","$nextTick","__exports__","render"],"sourceRoot":""}